# Домашнее задание к занятию "6.5. Elasticsearch"

## Задача 1

- dockerfile

```
FROM    centos:7

RUN     yum -y update && yum -y install wget sudo java-1.8.0-openjdk

ENV     ES_PKG_NAME elasticsearch-7.13.3

RUN     \
        cd /usr/share/ && \
        wget https://artifacts.elastic.co/downloads/elasticsearch/$ES_PKG_NAME-linux-x86_64.tar.gz && \
        tar -xzf $ES_PKG_NAME-linux-x86_64.tar.gz && \
        rm -f $ES_PKG_NAME-linux-x86_64.tar.gz && \
        mv /usr/share/$ES_PKG_NAME /usr/share/elasticsearch
RUN     groupadd -g 1000 elasticsearch && useradd elasticsearch -u 1000 -g 1000
RUN     mkdir /var/lib/nodes
RUN     chown elasticsearch:elasticsearch /var/lib/nodes
RUN     echo -e "cluster.name: my_elastic\nnetwork.host: 0.0.0.0\nnode.name: netology_test\npath.data: /var/lib\ndiscovery.type: single-node\ndiscovery.seed_hosts: ["127.0.0.1:9300"]" >> /usr/share/elasticsearch/config/elasticsearch.yml
RUN     chown -R elasticsearch:elasticsearch /usr/share/elasticsearch

USER    elasticsearch

EXPOSE  9200 9300

CMD     ["/usr/share/elasticsearch/bin/elasticsearch"]

```

- https://hub.docker.com/repository/docker/jay15/elastic_test

- вывод \

```
{
  "name" : "netology_test",
  "cluster_name" : "my_elastic",
  "cluster_uuid" : "4yk31NAKSAWsVEUnKDb1Bw",
  "version" : {
    "number" : "7.13.3",
    "build_flavor" : "default",
    "build_type" : "tar",
    "build_hash" : "5d21bea28db1e89ecc1f66311ebdec9dc3aa7d64",
    "build_date" : "2021-07-02T12:06:10.804015202Z",
    "build_snapshot" : false,
    "lucene_version" : "8.8.2",
    "minimum_wire_compatibility_version" : "6.8.0",
    "minimum_index_compatibility_version" : "6.0.0-beta1"
  },
  "tagline" : "You Know, for Search"
}
```




