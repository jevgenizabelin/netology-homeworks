#  Домашнее задание к занятию "12.3 Развертывание кластера на собственных серверах, лекция 1"

##  Задание 1: Описать требования к кластеру

Высчитывать ресурсы для кластера будем из расчета: 
- 1 виртуалка - мастер нода
- 3 виртуалки - рабочие ноды
- Всё это находится на разных физических серверах(или это разные виртуалки в облаке) для отказоустойчивости.


| Name | Qty | CPU | RAM(Mb) | CPU total | RAM(Mb) total |
| :--- | :--- | :--- | :--- | :--- | :--- |
| DB | 3 | 1 | 4096 | 3 | 12288 |
| Cache | 3 | 1 | 4096 | 3 | 12288 |
| Frontend | 5 | 0.2 | 50 | 1 | 250 |
| Backend | 10 | 1 | 600 | 10 | 6000 |
| Work node | 3 | 1 | 1024 | 3 | 3072 |

Всего получилось CPU - 20, RAM - 33898 Mb для рабочих нод и самих сервисов. Нужно теперь посчитать сколько нужно ресурсов для каждой рабочей ноды. Думаю надо предусмотреть падение/обслуживание одной из нод, чтобы хватило ресурсов для переезда подов на оставшиеся 2 ноды.
- CPU 20/3*1.5=10. 
- RAM 33898/3*1.5=16949 Mb или примерно 17 Gb
- Итого с учетом роста производительности и на случай падение/обслуживание одной из нод, закладываем следующие ресурсы для каждой ноды - CPU - 12, RAM - 24 Gb.


Плюс делаем отдельную виртуалку для Control Plane - CPU - 2, RAM - 2 Gb.




